!function(){var t,e,n,r,a,o,i,s,l,u,h,c,p,d,f,g,v,m=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},w=[].slice,b={}.hasOwnProperty,y=function(t,e){return function(){return t.apply(e,arguments)}};t=jQuery,n=function(t){var e,n,r,a;for(t+="",n=t.split("."),r=n[0],a=n.length>1?"."+n[1]:"",e=/(\d+)(\d{3})/;e.test(r);)r=r.replace(e,"$1,$2");return r+a},d=function(t,e){return null==t&&(t=3),null==e&&(e=1),function(r){return 0===r||isNaN(r)||!isFinite(r)?"":n((e*r).toFixed(t))}},r={sum:function(t,e){return null==t&&(t=3),null==e&&(e=1),function(n){var r;return r=n[0],function(){return{sum:0,push:function(t){return isNaN(parseFloat(t[r]))?void 0:this.sum+=parseFloat(t[r])},value:function(){return this.sum},format:d(t,e)}}}},average:function(t,e){return null==t&&(t=3),null==e&&(e=1),function(n){var r;return r=n[0],function(){return{sum:0,len:0,push:function(t){return isNaN(parseFloat(t[r]))?void 0:(this.sum+=parseFloat(t[r]),this.len++)},value:function(){return this.sum/this.len},format:d(t,e)}}}},sumOverSum:function(t,e){return null==t&&(t=3),null==e&&(e=1),function(n){var r,a;return a=n[0],r=n[1],function(){return{sumNum:0,sumDenom:0,push:function(t){return isNaN(parseFloat(t[a]))||(this.sumNum+=parseFloat(t[a])),isNaN(parseFloat(t[r]))?void 0:this.sumDenom+=parseFloat(t[r])},value:function(){return this.sumNum/this.sumDenom},format:d(t,e)}}}},sumOverSumBound80:function(t,e,n){return null==t&&(t=3),null==e&&(e=1),null==n&&(n=!0),function(r){var a,o;return o=r[0],a=r[1],function(){return{sumNum:0,sumDenom:0,push:function(t){return isNaN(parseFloat(t[o]))||(this.sumNum+=parseFloat(t[o])),isNaN(parseFloat(t[a]))?void 0:this.sumDenom+=parseFloat(t[a])},value:function(){var t;return t=n?1:-1,(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*t*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:d(t,e)}}}}},a={count:function(){return function(){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:d(0)}}},countUnique:function(t){var e;return e=t[0],function(){return{uniq:[],push:function(t){var n;return n=t[e],m.call(this.uniq,n)<0?this.uniq.push(t[e]):void 0},value:function(){return this.uniq.length},format:d(0)}}},listUnique:function(t){var e;return e=t[0],function(){return{uniq:[],push:function(t){var n;return n=t[e],m.call(this.uniq,n)<0?this.uniq.push(t[e]):void 0},value:function(){return this.uniq.join(", ")},format:function(t){return t}}}},intSum:r.sum(0),sum:r.sum(3),average:r.average(3),sumOverSum:r.sumOverSum(3),ub80:r.sumOverSumBound80(3,1,!0),lb80:r.sumOverSumBound80(3,1,!1)},f={},h={bin:function(t,e){var n;return n="string"==typeof t?function(e){return e[t]}:t,function(t){return""+(n(t)-n(t)%e)}}},p={current:null,ln:function(){var t;return null!=(t=p.current)?t:p.current=window.navigator.userLanguage||window.navigator.language},t:function(){var t,e,n,r,a;return r=arguments[0],t=2<=arguments.length?w.call(arguments,1):[],n=null!=(a=p[p.ln()])?a:p.en,e=null!=n?n[r]:void 0,null!=e?"[object Function]"===Object.prototype.toString.call(e)?e(t):e:r}},v=p.t,l={style:"jquery-ui",decorate:function(t,e){return l["default"][e](t),l[l.style][e](t)}},t.pivotUtilities={aggregatorTemplates:r,aggregators:a,renderers:f,derivers:h,i18n:p,decorators:l},u=function(t,e,n){var r,a,o;for(r in e)a=e[r],t[r]=null!=(o=a(t))?o:t[r];for(r in t)b.call(t,r)&&null==t[r]&&(t[r]=v("null"));return n(t)},c=function(e,n,r){var a,o,i,s,l,h,c,p,d,f,g,v;if(a=function(t){return u(t,n,r)},"[object Function]"===Object.prototype.toString.call(e))return e(a);if(t.isArray(e)){if(t.isArray(e[0])){g=[];for(i in e)if(b.call(e,i)&&(o=e[i],i>0)){h={},f=e[0];for(s in f)b.call(f,s)&&(l=f[s],h[l]=o[s]);g.push(a(h))}return g}for(v=[],p=0,d=e.length;d>p;p++)h=e[p],v.push(a(h));return v}return c=[],t("thead > tr > th",e).each(function(){return c.push(t(this).text())}),t("tbody > tr",e).each(function(){return h={},t("td",this).each(function(e){return h[c[e]]=t(this).text()}),a(h)})},s=function(t){var e;return e=[],c(t,{},function(t){return e.push(t)}),e},e=function(){function t(t,e,n){this.aggregator=t,this.colVars=e,this.rowVars=n,this.getAggregator=y(this.getAggregator,this),this.flattenKey=y(this.flattenKey,this),this.getRowKeys=y(this.getRowKeys,this),this.getColKeys=y(this.getColKeys,this),this.sortKeys=y(this.sortKeys,this),this.arrSort=y(this.arrSort,this),this.natSort=y(this.natSort,this),this.tree={},this.rowKeys=[],this.colKeys=[],this.flatRowKeys=[],this.flatColKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(),this.sorted=!1}return t.prototype.natSort=function(t,e){var n,r,a,o,i,s,l;if(s=/(\d+)|(\D+)/g,i=/\d/,l=/^0/,"number"==typeof t||"number"==typeof e)return isNaN(t)?1:isNaN(e)?-1:t-e;if(n=String(t).toLowerCase(),a=String(e).toLowerCase(),n===a)return 0;if(!i.test(n)||!i.test(a))return n>a?1:-1;for(n=n.match(s),a=a.match(s);n.length&&a.length;)if(r=n.shift(),o=a.shift(),r!==o)return i.test(r)&&i.test(o)?r.replace(l,".0")-o.replace(l,".0"):r>o?1:-1;return n.length-a.length},t.prototype.arrSort=function(t,e){return this.natSort(t.join(),e.join())},t.prototype.sortKeys=function(){return this.sorted||(this.rowKeys.sort(this.arrSort),this.colKeys.sort(this.arrSort)),this.sorted=!0},t.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},t.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},t.prototype.flattenKey=function(t){return t.join(String.fromCharCode(0))},t.prototype.processRow=function(t){var e,n,r,a,o;return e=function(){var e,n,r,a;for(r=this.colVars,a=[],e=0,n=r.length;n>e;e++)o=r[e],a.push(t[o]);return a}.call(this),a=function(){var e,n,r,a;for(r=this.rowVars,a=[],e=0,n=r.length;n>e;e++)o=r[e],a.push(t[o]);return a}.call(this),r=this.flattenKey(a),n=this.flattenKey(e),this.allTotal.push(t),0!==a.length&&(m.call(this.flatRowKeys,r)<0&&(this.rowKeys.push(a),this.flatRowKeys.push(r)),this.rowTotals[r]||(this.rowTotals[r]=this.aggregator()),this.rowTotals[r].push(t)),0!==e.length&&(m.call(this.flatColKeys,n)<0&&(this.colKeys.push(e),this.flatColKeys.push(n)),this.colTotals[n]||(this.colTotals[n]=this.aggregator()),this.colTotals[n].push(t)),0!==e.length&&0!==a.length?(r in this.tree||(this.tree[r]={}),n in this.tree[r]||(this.tree[r][n]=this.aggregator()),this.tree[r][n].push(t)):void 0},t.prototype.getAggregator=function(t,e){var n,r,a;return a=this.flattenKey(t),r=this.flattenKey(e),n=0===t.length&&0===e.length?this.allTotal:0===t.length?this.colTotals[r]:0===e.length?this.rowTotals[a]:this.tree[a][r],null!=n?n:{value:function(){return null},format:function(){return""}}},t}(),o=function(t,n,r,a,o,i){var s;return s=new e(a,n,r),c(t,i,function(t){return o(t)?s.processRow(t):void 0}),window.pivotData=s,s},g=function(t,e,n){var r,a,o,i,s,l;if(0!==e){for(a=!0,i=s=0;n>=0?n>=s:s>=n;i=n>=0?++s:--s)t[e-1][i]!==t[e][i]&&(a=!1);if(a)return-1}for(r=0;e+r<t.length;){for(o=!1,i=l=0;n>=0?n>=l:l>=n;i=n>=0?++l:--l)t[e][i]!==t[e+r][i]&&(o=!0);if(o)break;r++}return r},i=function(e){var n,r,a,o,i,s,u,h,c,p,d,f,m,w,y,x,T,S,N,C,K;i=e.colVars,f=e.rowVars,d=e.getRowKeys(),o=e.getColKeys(),c=t("<table class='pvtTable'>"),x=t("<thead>");for(u in i)if(b.call(i,u)){r=i[u],S=t("<tr>"),0===parseInt(u)&&0!==f.length&&S.append(t("<th>").attr("colspan",f.length).attr("rowspan",i.length)),S.append(t("<th class='pvtAxisLabel'>").text(r));for(s in o)b.call(o,s)&&(a=o[s],K=g(o,parseInt(s),parseInt(u)),-1!==K&&(y=t("<th class='pvtColLabel col"+s+"'>").text(a[u]).attr("colspan",K),parseInt(u)===i.length-1&&0!==f.length&&y.attr("rowspan",2),S.append(y)));0===parseInt(u)&&S.append(t("<th class='pvtTotalLabel'>").text(v("Totals")).attr("rowspan",i.length+(0===f.length?0:1))),x.append(S)}if(0!==f.length){S=t("<tr>");for(s in f)b.call(f,s)&&(h=f[s],S.append(t("<th class='pvtAxisLabel'>").text(h)));y=t("<th>"),0===i.length&&y.addClass("pvtTotalLabel").text(v("Totals")),S.append(y),x.append(S)}c.append(x),m=t("<tbody>");for(s in d)if(b.call(d,s)){p=d[s],S=t("<tr>");for(u in p)b.call(p,u)&&(N=p[u],K=g(d,parseInt(s),parseInt(u)),-1!==K&&(y=t("<th class='pvtRowLabel row"+s+"'>").text(N).attr("rowspan",K),parseInt(u)===f.length-1&&0!==i.length&&y.attr("colspan",2),S.append(y)));for(u in o)b.call(o,u)&&(a=o[u],n=e.getAggregator(p,a),C=n.value(),S.append(t("<td class='pvtVal row"+s+" col"+u+"'>").text(n.format(C)).data("value",C)));T=e.getAggregator(p,[]),C=T.value(),S.append(t("<td class='pvtTotal rowTotal row"+s+"'>").text(T.format(C)).data("value",C).data("for","row"+s)),m.append(S)}c.append(m),w=t("<tfoot>"),S=t("<tr>"),y=t("<th class='pvtTotalLabel'>").text(v("Totals")),y.attr("colspan",f.length+(0===i.length?0:1)),S.append(y);for(u in o)b.call(o,u)&&(a=o[u],T=e.getAggregator([],a),C=T.value(),S.append(t("<td class='pvtTotal colTotal col"+u+"'>").text(T.format(C)).data("value",C).data("for","col"+u)));return T=e.getAggregator([],[]),C=T.value(),S.append(t("<td class='pvtGrandTotal'>").text(T.format(C)).data("value",C)),c.append(w.append(S)),c.data("dimensions",[d.length,o.length]),l.decorate(c,"pivotTable"),c},t.fn.pivot=function(e,n){var r,s;return r={cols:[],rows:[],filter:function(){return!0},aggregator:a.count(),derivedAttributes:{},renderer:function(t){return i(t)},decoratorStyle:"jquery-ui"},n=t.extend(r,n),t.pivotUtilities.decorators.style=n.decoratorStyle,s=o(e,n.cols,n.rows,n.aggregator,n.filter,n.derivedAttributes),this.html(n.renderer(s)),this},t.fn.pivotUI=function(e,n){var r,o,i,l,u,h,p,d,g,w,y,x,T,S,N,C,K,A,q,j,k,F,V,D,R,L,P,O,U,W,z,I,E,_,H;h={derivedAttributes:{},aggregators:a,renderers:f,hiddenAxes:[],decoratorStyle:"jquery-ui",cols:[],rows:[],vals:[]},n=t.extend(h,n),t.pivotUtilities.decorators.style=n.decoratorStyle,e=s(e),T=function(){var t,n;t=e[0],n=[];for(d in t)b.call(t,d)&&n.push(d);return n}(),z=n.derivedAttributes;for(i in z)b.call(z,i)&&m.call(T,i)<0&&T.push(i);for(o={},q=0,V=T.length;V>q;q++)K=T[q],o[K]={};if(c(e,n.derivedAttributes,function(t){var e,n,r;r=[];for(d in t)b.call(t,d)&&(e=t[d],null==e&&(e="null"),null==(n=o[d])[e]&&(n[e]=0),r.push(o[d][e]++));return r}),C=t("<table class='pvt-ui-table' cellpadding='5'>"),console.log(o),x=function(){var t,e;t=n.renderers,e=[];for(K in t)b.call(t,K)&&(A=t[K],e.push(K));return e}(),0!==x.length){for(x.unshift("None"),u=t("<td colspan='2' align='center'>"),p=t("<form>").addClass("form-inline"),u.append(p),p.append(t("<strong>").text(v("Effects:"))),j=0,D=x.length;D>j;j++)K=x[j],w=t("<input type='radio' name='renderers' id='renderers_"+K.replace(/\s/g,"")+"'>").css({"margin-left":"15px","margin-right":"5px"}).val(K),"None"===K&&w.attr("checked","checked"),p.append(w).append(t("<label class='checkbox inline' for='renderers_"+K.replace(/\s/g,"")+"'>").text(v(K)));C.append(t("<tr>").append(u))}for(l=t("<td colspan='2' id='unused' class='pvtAxisContainer pvtHorizList'>"),k=0,R=T.length;R>k;k++)i=T[k],m.call(n.hiddenAxes,i)<0&&function(e){var n,r,a,i,s,u,h,c,p,f;if(i=function(){var t,n;t=o[e],n=[];for(d in t)b.call(t,d)&&(u=t[d],n.push(d));return n}(),s=i.length,r=t("<nobr>").text(e),h=t("<div>").css({"z-index":100,width:"280px",height:"350px",overflow:"scroll",border:"1px solid gray",background:"white",display:"none",position:"absolute",padding:"20px"}),h.append(t("<strong>").text(v("values for axis",s,e))),s>20)h.append(t("<p>").text(v("(too many to list)")));else for(n=t("<p>"),n.append(t("<button>").text(v("Select All")).bind("click",function(){return h.find("input").attr("checked",!0)})),n.append(t("<button>").text(v("Select None")).bind("click",function(){return h.find("input").attr("checked",!1)})),h.append(n),f=i.sort(),c=0,p=f.length;p>c;c++)d=f[c],u=o[e][d],a=t("<label>"),a.append(t("<input type='checkbox' class='pvtFilter'>").attr("checked",!0).data("filter",[e,d])),a.append(t("<span>").text(""+d+" ("+u+")")),h.append(t("<p>").append(a));return r.bind("dblclick",function(e){return h.css({left:e.pageX,top:e.pageY}).toggle(),h.bind("click",function(t){return t.stopPropagation()}),t(document).one("click",function(){return y(),h.toggle()})}),l.append(t("<li class='label label-info' id='axis_"+e.replace(/\s/g,"")+"'>").append(r).append(h))}(i);C.append(t("<tr>").append(l)),S=t("<tr>"),r=t("<select id='aggregator'>").css("margin-bottom","5px").bind("change",function(){return y()}),I=n.aggregators;for(K in I)b.call(I,K)&&r.append(t("<option>").val(K).text(v("aggregator."+K)));for(S.append(t("<td id='vals' class='pvtAxisContainer pvtHorizList'>").css("text-align","center").append(r).append(t("<br>"))),S.append(t("<td id='cols' class='pvtAxisContainer pvtHorizList'>")),C.append(S),N=t("<tr>"),N.append(t("<td valign='top' id='rows' class='pvtAxisContainer'>")),g=t("<td valign='top'>"),N.append(g),C.append(N),this.html(C),E=n.cols,F=0,L=E.length;L>F;F++)K=E[F],t("#cols").append(t("#axis_"+K.replace(/\s/g,"")));for(_=n.rows,U=0,P=_.length;P>U;U++)K=_[U],t("#rows").append(t("#axis_"+K.replace(/\s/g,"")));for(H=n.vals,W=0,O=H.length;O>W;W++)K=H[W],t("#vals").append(t("#axis_"+K.replace(/\s/g,"")));return null!=n.aggregatorName&&t("#aggregator").val(n.aggregatorName),null!=n.rendererName&&t("#renderers_"+n.rendererName.replace(/\s/g,"")).attr("checked",!0),y=function(){var a,o,i,s;return i={derivedAttributes:n.derivedAttributes},i.cols=[],i.rows=[],s=[],t("#rows li nobr").each(function(){return i.rows.push(t(this).text())}),t("#cols li nobr").each(function(){return i.cols.push(t(this).text())}),t("#vals li nobr").each(function(){return s.push(t(this).text())}),i.aggregator=n.aggregators[r.val()](s),a=[],t("input.pvtFilter").not(":checked").each(function(){return a.push(t(this).data("filter"))}),i.filter=function(t){var e,n,r,o;for(r=0,n=a.length;n>r;r++)if(o=a[r],d=o[0],e=o[1],t[d]===e)return!1;return!0},0!==x.length&&(o=t("input[name=renderers]:checked").val(),"None"!==o&&(i.renderer=n.renderers[o])),g.pivot(e,i)},y(),t("input[name=renderers]").bind("change",y),t(".pvtAxisContainer").sortable({connectWith:".pvtAxisContainer",items:"li"}).bind("sortstop",y),this},window.PivotTable=t.extend(t.pivotUtilities,{deriveAttributes:u,buildPivotData:o,buildPivotTable:i,forEachRow:c,PivotData:e})}.call(this),function(){var t,e,n;t=jQuery,n=window.PivotTable,e=n.decorators,e["default"]={pivotTable:function(e){return t(".pvtVal, .pvtTotal",e).hover(function(){var e;return e="."+t.trim(t(this)[0].className.replace("pvtVal","")).split(" ").join(",."),t(".pvtTable").find(e).addClass("pvtVal-cross"),t(this).addClass("pvtVal-em")},function(){var e;return e="th ."+t.trim(t(this)[0].className.replace("pvtVal","")).split(" ").join(",."),t(".pvtTable").find(e).removeClass("pvtVal-cross"),t(this).removeClass("pvtVal-em")})}}}.call(this),function(){var t,e,n;t=jQuery,n=window.PivotTable,e=n.decorators,e["jquery-ui"]={pivotTable:function(t){return t.addClass("table table-bordered")},pivotUITable:function(t){return t.addClass("table table-bordered")}}}.call(this),function(){var t;t=jQuery,t.fn.fixedTableHeaderPro=function(e){var n,r,a;return n={width:"100%",height:"100%",fixedCol:!1,fixedFooter:!1,cloneEvents:!1},r={_colSpanInRow:function(t,e){var n;return null==e&&(e="td"),n=0,t.find(e).each(function(){return n+=this.colSpan}),n},_scrollBarWidth:function(){var t;return document.body.style.overflow="hidden",t=document.body.clientWidth,document.body.style.overflow="scroll",t-=document.body.clientWidth,t||(t=document.body.offsetWidth-document.body.clientWidth),document.body.style.overflow="",t},destroy:function(){var t;return t=this.parents(".fthp-wrapper-main"),t.size()>0?(console.log(t),t.parent().append(this),t.remove()):void 0},create:function(e,n){var r,a,o,i,s,l,u,h,c,p,d,f,g,v,m,w;return this.destroy.apply(e),d=e.width(),c=e.height(),h=this._scrollBarWidth(),n.width>d&&(n.width=d+h),n.height>c&&(n.height=c+h),e.width(d).height(c),r={overflow:"hidden",margin:"0px",padding:"0px","border-width":"0px"},f=t("<div class='fthp-wrapper-main'>").css(t.extend({},r,{position:"relative"})).width(n.width).height(n.height),l=e.parent(),f.append(w=t("<div class='fthp-wrapper-table'>").append(e).css(t.extend({},r,{overflow:"scroll",width:n.width,height:n.height,position:"relative","z-index":"35"})).on("scroll",function(){var e;return e=t(this),m.scrollLeft(e.scrollLeft()),"undefined"!=typeof g&&null!==g?g.scrollTop(e.scrollTop()):void 0})),l.append(f),i=e.clone(n.cloneEvents,n.cloneEvents),i.addClass("fthp-header").height("auto"),i.find("tbody, tfoot").empty(),p=e.find("thead th"),i.find("thead th").attr("id",null).each(function(e){var n;return n=p.eq(e),t(this).width(n.width()+1).height(n.height()).css("minWidth",n.width()).css("maxWidth",n.width()),/webkit/.test(navigator.userAgent.toLowerCase())?void 0:t(this).outerWidth(n.outerWidth()+1).innerWidth(n.innerWidth()+1)}),f.append(m=t("<div class='fthp-wrapper-row'>").append(i).css(t.extend({},r,{width:n.width-h,position:"relative","z-index":"45"}))),n.fixedCol&&(a=e.clone(n.cloneEvents,n.cloneEvents),a.addClass("fthp-columns").width("auto"),p=e.find("th"),a.find("th").attr("id",null).each(function(e){var n;return n=p.eq(e),t(this).width(n.width()+1).height(n.height()).css("minWidth",n.width())}),a.find("td").remove(),s=this._colSpanInRow(a.find("tbody tr:first"),"th"),u=[],a.find("thead tr").each(function(){var e,n,r,a,o;for(n=0,t("th",this).each(function(){var e,r,a;for(r=0,a=u.length;a>r;r++)e=u[r],e[0]>0&&(n+=e[1]);return n+=this.colSpan,this.rowSpan>1&&u.push([this.rowSpan,this.colSpan]),n>=s?(t(this).nextAll().remove(),!1):void 0}),o=[],r=0,a=u.length;a>r;r++)e=u[r],e[0]>0&&o.push(e[0]--);return o}),o=a.clone(n.cloneEvents,n.cloneEvents),o.addClass("fthp-corner").width("auto").height("auto"),o.find("tbody tr, tfoot tr").remove(),f.append(g=t("<div class='fthp-wrapper-col'>").append(a).css(t.extend({},r,{height:n.height-h,position:"relative","z-index":"40"}))),f.append(v=t("<div class='fthp-wrapper-corner'>").append(o).css(t.extend({},r,{position:"relative","z-index":"50"})))),null!=g&&g.width(a.width()+2),null!=v&&v.width(o.width()+2).height(o.height()+2),i.css("maxWidth",d).width(d),f.children().offset(f.offset())}},"string"==typeof e&&null!=r[e]?r[e].apply(this):"object"==typeof e&&e.constructor===Object?(a=t.extend(n,e),r.create(this,a)):console.log("Error: "+e+" is not a valid argument!"),this}}.call(this),function(){var t,e,n;t=jQuery,n=window.PivotTable,e=n.i18n,e.en={"values for axis":function(t){return""+t[0]+" values for "+t[1]},"aggregator.count":"count","aggregator.countUnique":"countUnique","aggregator.listUnique":"listUnique","aggregator.intSum":"intSum","aggregator.sum":"Sum","aggregator.average":"average","aggregator.sumOverSum":"sumOverSum","aggregator.ub80":"ub80","aggregator.lb80":"lb80"},e.zh=e["zh-CN"]=e["zh-cn"]={"Row Barchart":"行内柱状图",Heatmap:"热点图","Row Heatmap":"行热点图","Col Heatmap":"列热点图","null":"空值",Totals:"合计",None:"无","Select None":"清除选择","Select All":"选择全部","Effects:":"效果:","(too many to list)":"(列表太长)","values for axis":function(t){return"共 "+t[0]+" 类 "+t[1]},"aggregator.count":"计数","aggregator.countUnique":"非重复值计数","aggregator.listUnique":"单行显示非重复值","aggregator.intSum":"累加(取整)","aggregator.sum":"累加","aggregator.average":"平均值","aggregator.sumOverSum":"累加并求比例","aggregator.ub80":"累加并求比例2","aggregator.lb80":"累加并求比例3"}}.call(this),function(){var t,e,n;t=jQuery,e=window.PivotTable,n=e.renderers,t.extend(n,{"Row Barchart":function(t){return e.buildPivotTable(t).barchart()},Heatmap:function(t){return e.buildPivotTable(t).heatmap()},"Row Heatmap":function(t){return e.buildPivotTable(t).heatmap("rowheatmap")},"Col Heatmap":function(t){return e.buildPivotTable(t).heatmap("colheatmap")}}),t.fn.heatmap=function(e){var n,r,a,o,i,s,l,u,h,c=this;switch(null==e&&(e="heatmap"),h=this.data("dimensions"),s=h[0],i=h[1],n=function(t,e,n){var r;return r=function(){switch(t){case"red":return function(t){return"ff"+t+t};case"green":return function(t){return""+t+"ff"+t};case"blue":return function(t){return""+t+t+"ff"}}}(),function(t){var a,o;return o=255-Math.round(255*(t-e)/(n-e)),a=o.toString(16).split(".")[0],1===a.length&&(a=0+a),r(a)}},r=function(e,r){var a,o,i;return o=function(n){return c.find(e).each(function(){var e;return e=t(this).data("value"),null!=e&&isFinite(e)?n(e,t(this)):void 0})},i=[],o(function(t){return i.push(t)}),a=n(r,Math.min.apply(Math,i),Math.max.apply(Math,i)),o(function(t,e){return e.css("background-color","#"+a(t))})},e){case"heatmap":r(".pvtVal","red");break;case"rowheatmap":for(a=l=0;s>=0?s>l:l>s;a=s>=0?++l:--l)r(".pvtVal.row"+a,"red");break;case"colheatmap":for(o=u=0;i>=0?i>u:u>i;o=i>=0?++u:--u)r(".pvtVal.col"+o,"red")}return r(".pvtTotal.rowTotal","red"),r(".pvtTotal.colTotal","red"),this},t.fn.barchart=function(){var e,n,r,a,o,i,s=this;for(i=this.data("dimensions"),a=i[0],r=i[1],e=function(e){var n,r,a,o;return n=function(n){return s.find(e).each(function(){var e;return e=t(this).data("value"),null!=e&&isFinite(e)?n(e,t(this)):void 0})},o=[],n(function(t){return o.push(t)}),r=Math.max.apply(Math,o),a=function(t){return 100*t/(1.4*r)},n(function(e,n){var r,o;return r=n.text(),o=t("<div>").css({position:"relative",height:"55px"}),o.append(t("<div>").css({position:"absolute",bottom:0,left:0,right:0,height:a(e)+"%","background-color":"gray"})),o.append(t("<div>").text(r).css({position:"relative","padding-left":"5px","padding-right":"5px"})),n.css({padding:0,"padding-top":"5px","text-align":"center"}).html(o)})},n=o=0;a>=0?a>o:o>a;n=a>=0?++o:--o)e(".pvtVal.row"+n);return e(".pvtTotal.colTotal"),this}}.call(this);